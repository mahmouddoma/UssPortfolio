<div class="auctions-section">
  <h2 class="section-title text-center">
    {{ currentLang === 'ar' ? 'المزادات' : 'Auctions' }}
  </h2>

  <div class="swiper-tabs-container">
    <!-- Tab Navigation -->
    <div class="tabs-navigation" role="tablist">
      <button class="tab-button" [class.active]="selectedTab === 'all'" (click)="selectTab('all')">
        {{ currentLang === 'ar' ? 'الكل' : 'All' }}
      </button>
      <button class="tab-button" [class.active]="selectedTab === 'current'" (click)="selectTab('current')">
        {{ currentLang === 'ar' ? 'الجارية' : 'Current' }}
      </button>
      <button class="tab-button" [class.active]="selectedTab === 'upcoming'" (click)="selectTab('upcoming')">
        {{ currentLang === 'ar' ? 'القادمة' : 'Upcoming' }}
      </button>
      <button class="tab-button" [class.active]="selectedTab === 'ended'" (click)="selectTab('ended')">
        {{ currentLang === 'ar' ? 'المنتهية' : 'Ended' }}
      </button>
    </div>

    <!-- Swiper Container -->
    <div class="swiper auction-swiper">
      <div class="swiper-wrapper">
        <div *ngIf="isLoading" class="loading-indicator">
          {{ currentLang === 'ar' ? 'جاري التحميل...' : 'Loading...' }}
        </div>
        <div *ngIf="filteredAuctions.length === 0 && !isLoading"
          class="no-auctions-message w-100 justify-content-center">
          {{ currentLang === 'ar' ? 'لا يوجد مزادات حالياً' : 'No auctions available at the moment' }}
        </div>

        <div *ngFor="let auction of filteredAuctions" class="swiper-slide">
          <div class="auction-card">
            <span class="status-badge" [ngClass]="auction.status">
              {{ currentLang === 'ar' ?
              (auction.status === 'current' ? 'جارية' :
              auction.status === 'upcoming' ? 'قادمة' : 'منتهية') :
              auction.status }}
            </span>

            <img [src]="auction.imageUrl" [alt]="currentLang === 'ar' ? auction.name : auction.name"
              class="auction-image" />

            <h3 class="auction-title">
              {{ auction.name }}
            </h3>

            <div class="auction-info">
              <div class="info-item">
                <label>{{ currentLang === 'ar' ? 'تاريخ البداية' : 'Start Date' }}</label>
                <span>{{ auction.start | date:'mediumDate' }}</span>
              </div>
              <div class="info-item">
                <label>{{ currentLang === 'ar' ? 'تاريخ النهاية' : 'End Date' }}</label>
                <span>{{ auction.end | date:'mediumDate' }}</span>
              </div>

              <!-- Time left for current auctions -->
              <div *ngIf="auction.status === 'current'" class="info-item">
                <label>{{ currentLang === 'ar' ? 'الوقت المتبقي' : 'Time Left' }}</label>
                <span class="time-counter">{{ auction.timeLeft }}</span>
              </div>

              <!-- Time until start for upcoming auctions -->
              <div *ngIf="auction.status === 'upcoming'" class="info-item">
                <label>{{ currentLang === 'ar' ? 'يبدأ بعد' : 'Starts In' }}</label>
                <span class="time-counter">{{ auction.timeToStart }}</span>
              </div>

              <div class="info-item full-width">
                <label>{{ currentLang === 'ar' ? 'الوصف' : 'Description' }}</label>
                <p>{{ auction.content }}</p>
              </div>
            </div>

            <div class="auction-footer">
              <a *ngIf="auction.pdfUrl" [href]="auction.pdfUrl" target="_blank" class="pdf-link">
                📄 {{ currentLang === 'ar' ? 'تحميل الكتيب' : 'Download PDF' }}
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- Swiper Pagination -->
      <div class="swiper-pagination"></div>

      <!-- Swiper Navigation -->
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>
  </div>
</div>