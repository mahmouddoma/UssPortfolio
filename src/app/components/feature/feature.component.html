<section class="feature-section" aria-labelledby="feature-title" appAppInViewport animationClass="fade-from-bottom">
  <div class="container-fluid features" appInViewport animationType="fade-in" staggerDelay="1">
    <div class="row">
      <div class="col-12 text-center">
        <div class="section-title" data-animate>
          <span>{{ currentLang === 'ar' ? 'الميزات' : 'Features' }}</span>
          <h2 id="feature-title">{{ currentLang === 'ar' ? section.titleAr : section.titleEn }}</h2>
        </div>
      </div>

      <div class="col-xl-3 col-lg-4 col-md-6 col-12" *ngFor="let feature of features; let i = index">
        <article class="feature-item" [attr.aria-label]="currentLang === 'ar' ? feature.subtitleAr : feature.subtitleEn" data-animate>
          <span class="feature-number" aria-hidden="true">{{ feature.id }}</span>

          <div class="fea-icon">
            <ng-container *ngIf="feature.icon.type === 'svg'; else imageBlock">
              <div class="svg-icon" [innerHTML]="feature.icon.content" role="img"
                [attr.aria-label]="currentLang === 'ar' ? feature.titleAr : feature.titleEn">
              </div>
            </ng-container>
            <ng-template #imageBlock>
              <img class="rounded-2" [src]="feature.icon.content"
                [alt]="currentLang === 'ar' ? feature.titleAr : feature.titleEn"
                width="140" loading="lazy" [ngStyle]="feature.icon.style || {}" />
            </ng-template>
          </div>

          <div class="feature-content fea-content">
            <h3 class="fea-title">{{ currentLang === 'ar' ? feature.titleAr : feature.titleEn }}</h3>
            <p class="fea-desc">{{ currentLang === 'ar' ? feature.descriptionAr : feature.descriptionEn }}</p>
          </div>
        </article>
      </div>
    </div>

    <app-counter appAppInViewport animationClass="fade-from-bottom"></app-counter>
  </div>
</section>
